# SmartMovieMatch v2 – Codex Meta Instructions
## Redesign the Product UI from Scratch (with Brand Direction)

**Audience:** Codex (coding agent)  
**Goal:** Redesign SmartMovieMatch’s web UI from scratch, implementing a **cinematic, premium, warm, social movie companion** experience.

You are allowed to:
- **Heavily change the HTML structure, CSS, and JS**.
- Introduce a **front-end framework (e.g., React/Next/Vite)** if it clearly improves UX and you implement it fully.
- Reorganize navigation, pages, and components as needed.

You must:
- Keep the **core product behavior** intact: recommendations, lists, social, auth, Supabase sync.
- Respect database + API safety rules in `AGENTS.md` and the Supabase schema.
- Leave the app in a **working, runnable state** (`npm install`, `npm start` or an updated equivalent).

---

## 0. Repo & Safety Context

Before making changes, **always read or re-read**:

- `README.md` – overview, setup, and any “Implementation notes for Codex”.
- `AGENTS.md` – especially:
  - Database Safety Checklist
  - Environment variables / API keys
- The main entry points:
  - `server.js`
  - `index.html`, `profile.html`, `peeruser.html`, `social-profile.html`, `login.html`, `account-settings.html`
  - `assets/css/mobile.css`
  - `assets/js/*.js` (especially `main.js`, `dom.js`, `auth.js`, `api.js`)

**Database & API rules:**

- Interact only with tables defined in `supabase/migrations/supabase_tables_schema.sql`.
- Do **not** invent new tables/columns/policies unless explicitly told by the user.
- Do **not** hard-code secrets; use existing env vars / config.
- If you change any API or SQL-related code, ensure it still matches the schema and existing policies.

If you introduce a framework (React, Next, etc.):

- Update `package.json` with necessary dependencies and scripts.
- Keep a simple “one-command” dev story documented in `README.md`.

---

## 1. Product Vision (Use This as Your North Star)

**Brand feel:**

- **Cinematic & premium** (like a polished streaming service intro).
- **Warm & cozy** (“movie night with friends”), not cold or corporate.
- Friendly, playful tone in the UI copy – small jokes and conversational hints are OK.

**Primary audiences (design for both):**

- **Casual viewers** who just want “What should I watch tonight?”
- **Social / show-off users** who want to share taste, follow friends, and see what others loved.

**Core promises (all four matter):**

1. **Personal recommendations** tuned to the user’s vibe and history.
2. **See what friends like** and reuse their good picks.
3. **Movie lists done right** (watchlists, favorites, special collections).
4. **Social movie community** (profiles, comments, activity, compatibility).

**Social priority:**

- **Balanced:** Recommendations are the star;  
  social context is woven into movie cards, profiles, lists, and activity — not hidden, not overpowering.

---

## 2. Visual & UX Direction

### 2.1 Theme & colors

- **Dark-mode-first** (movie theater feel) with optional/light support if practical.
- Palette:
  - Backgrounds: dark charcoals / near-black.
  - Accents: **warm, cozy colors** (muted oranges, ambers, warm reds) for CTAs, badges, highlights.
- Use contrast that’s readable and accessible.

### 2.2 Typography

- **Modern sans-serif** stack (Spotify/Netflix/Notion-like).
- Clear hierarchy:
  - Big, confident headings for sections.
  - Medium-weight titles on cards.
  - Body text sized comfortably for long summaries.

### 2.3 Layout density & animation

- **Medium information density:**
  - Enough detail to feel smart (ratings, genres, social context).
  - Enough whitespace so it doesn’t feel cramped.
- **Motion:**
  - Moderate micro-interactions:
    - Soft hover/focus states on cards and buttons.
    - Smooth transitions for tabs, modals, and filters.
  - Avoid heavy or distracting animations that hurt performance or accessibility.

---

## 3. Information Architecture & Navigation

Use a **classic top navigation bar** visible on all main pages.

Baseline structure (you can refine labels/URLs):

- **Logo / Brand** – “SmartMovieMatch”.
- **Home** – `/` (index): dashboard (recs + lists + social).
- **My Lists** – dedicated lists management view (can be a section or separate page).
- **Friends / Community** – social view: activity, discover people.
- **Profile** – my movie persona, stats, compatibility.
- **Account** – account settings & security.
- **Auth** – login / signup (or tucked into Profile/Account when logged in).

On mobile:
- Top bar can collapse actions into a menu or use a simple icon bar.
- Keep navigation simple and obvious.

---

## 4. Page & Feature Responsibilities

You can reorganize existing HTML files as needed, but aim for these roles:

### 4.1 Home (`index.html`) – “Movie Night Dashboard”

This is the **main screen**. It should look like a dashboard:

1. **Top hero strip**
   - Short explanation of SmartMovieMatch in 1–2 lines.
   - Main action: “Find something to watch” / “Set tonight’s vibe”.

2. **Vibe & filters panel**
   - Moods, genres, length (short/epic), maybe platform if available.
   - Use chips, toggles, and sliders that are easy to use on mobile.
   - Show a short line explaining how the current vibe is interpreted.

3. **Recommendations area**
   - Rich grid/list of movie cards.
   - Each card should include:
     - Poster
     - Title & year
     - 1–2 key stats (rating, runtime, genre chips)
     - Super short hook/summary
     - Primary actions:
       - Add to Favorites
       - Add to Watchlist / Mark as Watched
       - View details / trailer
     - Social context:
       - Friend avatars or initials if friends liked/watched it.
       - A small “X friends loved this” indicator if applicable.

4. **My lists preview panel**
   - Small section showing:
     - A slice of Favorites.
     - A slice of Watchlist / “For tonight”.
   - Clear CTAs: “View all lists”, “Create a themed list”.

5. **Friend activity highlights**
   - Compact feed or widgets:
     - “Alice added 3 movies to ‘Cozy Thrillers’”
     - “You and Bob both liked [Movie]”
   - This should be visible but not dominate the screen.

### 4.2 My Profile (`profile.html`)

Goal: feel like a **movie persona**, not just settings.

- Top:
  - Avatar, display name, handle.
  - Short tagline based on taste: “Slow-burn thriller addict”, “Comfort rom-com enjoyer”, etc.
- Body:
  - Taste breakdown (favorite genres, moods, recent streak).
  - Signature lists (e.g., pinned “All-time favorites”, “Rainy-day movies”).
  - Compatibility summaries: small highlight with best friend matches.
  - Quick link to “Edit profile” and “Jump into recommendations with your usual vibe”.

### 4.3 Peer Profile (`peeruser.html`)

Compare **my taste vs their taste**:

- Their avatar, name, tagline.
- “Taste match %” or similar stat.
- Overlapping favorites & genres.
- Their pinned list(s).
- Easy actions:
  - Follow/unfollow.
  - Copy a movie or entire list to mine.
  - Start a shared list (if supported).

### 4.4 Social / Community (`social-profile.html` or new page)

- Sections for:
  - Followers / Following / Mutuals.
  - Activity feed (list creations, reviews, big changes).
  - Social explanations (“Friends you follow influence the picks you see”).

### 4.5 Auth (`login.html`, plus any signup flow)

- Very simple, fast forms.
- Clear messaging:
  - What you get if you log in: cloud sync, saved lists, friends.
- Friendly, reassuring error messages and inline validation.
- Consider adding a “Continue as guest” path if it already exists or is easy to add.

### 4.6 Account (`account-settings.html`)

- Profile details: avatar, name, handle.
- Email + password management.
- Clear sections for:
  - Security.
  - Data / sync status (e.g., last sync time).
- Destructive actions (logout, delete account) clearly separated and visually distinct.

---

## 5. UI Design System & Components

Codex should create and reuse a small UI system:

- Buttons:
  - Primary: warm accent color, very clear states (hover/active/disabled).
  - Secondary: outlined or subtle background.
- Inputs & chips:
  - Comfortable hit areas on mobile.
  - Clear focus outlines for accessibility.
- Cards:
  - Rounded corners, subtle shadow.
  - Consistent padding and layout for movie cards, list cards, and profile highlights.
- Modals/drawers:
  - For quick actions (e.g., movie details, list management) when appropriate.

**Ensure accessibility:**

- Semantic HTML (`<main>`, `<section>`, `<nav>`, `<button>`, `<ul>`).
- Proper labels, ARIA attributes where needed, keyboard navigation, focus states.
- Respect reduced-motion preferences if possible when adding animation.

---

## 6. Tech & Implementation Guidelines

### 6.1 Stack choices

Default assumption:

- Project currently uses **static HTML + CSS + vanilla JS + Node server**.
- You **may** introduce a framework (e.g., React SPA, Next.js) if:
  - You implement the migration clearly (bundler, build, and dev commands).
  - You document how to run it in `README.md`.

If you choose to stay with vanilla:

- Keep using `assets/css/mobile.css` (you may refactor or split it).
- Keep JS logic organized in `assets/js/` modules.

If you choose a framework:

- Organize components by feature (e.g., `HomeDashboard`, `MovieCard`, `ProfileHeader`, `FriendActivityFeed`).
- Map existing pages (`index.html`, `profile.html`, etc.) to routes/screens.
- Ensure API calls still go through appropriate server routes or direct fetches, consistent with existing API behavior.

### 6.2 Hooks, APIs, and data

- Before renaming/removing any `id`, `class`, or `data-*` attribute that might be used by JS:
  - Search through `assets/js/*.js` and update references.
- Keep Supabase usage and external APIs (TMDB/OMDb/YouTube) **functionally equivalent**:
  - Don’t break authentication.
  - Don’t break recommendations, lists, and social data flows.

---

## 7. How Codex Should Work Step-by-Step

When you (Codex) are called to work on this project:

1. **Read context:**
   - Scan `README.md` and `AGENTS.md`.
   - Skim relevant pages and JS/CSS for the feature you’re changing.

2. **Pick a focused task:**
   - Example: “Redesign Home dashboard layout”,  
     “Implement new movie card design”,  
     “Revamp profile page to show personas”.

3. **Explain the plan briefly** (in natural language) before coding:
   - Which files will be changed.
   - What the new UX will look like.

4. **Implement the changes:**
   - Modify HTML/JS/CSS or framework components.
   - Keep code clean, readable, and consistent.
   - Ensure the app still runs.

5. **Summarize the outcome:**
   - Which files changed.
   - How the UI/UX improved.
   - Any follow-up tasks or limitations.

6. **Update `README.md` or a progress note area** (if present) with:
   - New features done.
   - Remaining tasks for this spec.

If user instructions conflict with this document, **obey the user** and use this spec as the fallback and tie-breaker.

